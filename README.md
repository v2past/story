# 📚 AI故事魔法师 - 创意写作助手

一个基于Streamlit开发的智能故事生成应用，让AI为您的创意插上翅膀，创造独一无二的精彩故事。

## 🎯 应用特色

### ✨ 核心功能
- **智能故事生成**: 基于用户选择的类型、角色、地点等元素，自动生成完整的故事
- **多种故事类型**: 支持奇幻冒险、科幻未来、悬疑推理、浪漫爱情、历史传奇、民间诡异等多种类型
- **个性化定制**: 用户可以自定义角色、地点、故事基调等元素
- **数据可视化**: 提供故事分析图表，帮助用户了解创作趋势
- **故事管理**: 保存、查看、删除和管理已生成的故事

### 🎨 界面设计
- **现代化UI**: 采用渐变色彩和卡片式设计，视觉效果优美
- **响应式布局**: 适配不同设备和屏幕尺寸
- **用户友好**: 操作简单直观，新手也能轻松上手
- **实时反馈**: 提供详细的使用统计和数据分析

## 🛠️ 技术栈

- **前端框架**: Streamlit
- **AI大模型**: 火山方舟（豆包1.5 Pro）
- **数据处理**: Pandas, NumPy
- **数据可视化**: Plotly
- **图像处理**: Pillow
- **开发语言**: Python 3.8+

## 📦 安装说明

### 1. 环境要求
- Python 3.8 或更高版本
- pip 包管理器

### 2. 安装步骤

```bash
# 1. 克隆项目（如果从Git仓库）
git clone <repository-url>
cd 03-Ml

# 2. 创建虚拟环境（推荐）
python -m venv venv

# 3. 激活虚拟环境
# Windows:
venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate

# 4. 安装依赖包
pip install -r requirements.txt

# 5. 配置火山方舟API（可选，详见CONFIG.md）
# 创建 .env 文件并添加您的API密钥
```

### 3. 运行应用

```bash
# 启动Streamlit应用
streamlit run app.py
```

应用将在浏览器中自动打开，默认地址为 `http://localhost:8501`

### 4. AI功能配置

- **火山方舟AI**: 配置API密钥后可享受高质量AI故事生成
- **本地模板**: 无需配置，随时可用的备用方案
- **详细配置**: 请参考 `CONFIG.md` 文件

## 📖 使用指南

### 🎭 故事生成
1. 在"故事生成"标签页中选择故事类型（奇幻冒险、科幻未来、民间诡异等）
2. 选择主角角色（勇敢的骑士、智慧的法师、神秘的老者等）
3. 选择故事发生地点（神秘森林、古老城堡、废弃古宅等）
4. 设置故事基调（快乐、悲伤、紧张等）
5. 选择故事长度（短篇、中篇、长篇）
6. 可选：添加自定义提示
7. 点击"🚀 生成故事"按钮

### 📚 故事库管理
- 查看所有已生成的故事
- 按类型筛选故事
- 按时间、字数等排序
- 复制、删除、收藏故事

### 📊 数据分析
- 查看故事生成趋势
- 分析字数分布
- 统计使用数据
- 了解创作偏好

## 🎯 应用亮点

### 1. 创意性
- 提供6种不同风格的故事类型
- 每种类型都有独特的角色和场景设定
- 支持用户自定义创意元素
- **AI智能生成**: 每次生成的故事都独一无二，内容丰富

### 2. 实用性
- 帮助用户快速生成故事创意
- 提供写作灵感和素材
- 适合学生、作家、内容创作者使用

### 3. 趣味性
- 精美的界面设计和动画效果
- 互动式的故事生成过程
- 数据可视化让创作过程更有趣

### 4. 稳定性
- **智能降级**: 火山方舟API不可用时自动切换到本地模板
- 使用Streamlit会话状态保存数据
- 响应式设计适配各种设备
- 完善的错误处理和用户提示

## 📁 项目结构

```
03-Ml/
├── app.py              # 主应用文件
├── requirements.txt    # 依赖包列表
├── README.md          # 项目说明文档
├── CONFIG.md          # 火山方舟配置指南
├── .streamlit/        # Streamlit配置
│   └── config.toml    # 应用主题配置
└── .gitignore         # Git忽略文件
```

## 🚀 部署说明

### 本地部署
1. 按照安装说明配置环境
2. 运行 `streamlit run app.py`
3. 在浏览器中访问应用

### 云端部署
应用可以部署到以下平台：
- Streamlit Cloud
- Heroku
- AWS
- Google Cloud Platform

## 📝 开发说明

### 代码结构
- `main()`: 主函数，控制应用流程
- `generate_story_without_api()`: 故事生成逻辑
- `create_story_visualization()`: 数据可视化
- 会话状态管理：保存用户数据和统计信息

### 自定义扩展
- 添加新的故事类型：在 `STORY_TYPES` 字典中添加
- 扩展角色和地点：在 `CHARACTERS` 和 `LOCATIONS` 中添加
- 修改界面样式：编辑CSS样式部分

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进这个项目！

## 📄 许可证

本项目采用MIT许可证，详见LICENSE文件。

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- 提交GitHub Issue
- 发送邮件至开发者

---

**AI故事魔法师** - 让创意无限可能！ ✨ 